!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).bsCustomFileInput=t()}(this,function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},t=function(e){if(0<e.childNodes.length)for(var t=[].slice.call(e.childNodes),n=0;n<t.length;n++){var l=t[n];if(3!==l.nodeType)return l}return e},n=function(n){var l=n.bsCustomFileInput.defaultText,r=n.parentNode.querySelector(e.CUSTOMFILELABEL);r&&(t(r).textContent=l)},l=!!window.File,r=function(e){if(e.hasAttribute("multiple")&&l)return[].slice.call(e.files).map(function(e){return e.name}).join(", ");if(-1===e.value.indexOf("fakepath"))return e.value;var t=e.value.split("\\");return t[t.length-1]};function i(){var l=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(l){var i=t(l),o=r(this);o.length?i.textContent=o:n(this)}}function o(){for(var t=[].slice.call(this.querySelectorAll(e.INPUT)).filter(function(e){return!!e.bsCustomFileInput}),l=0,r=t.length;l<r;l++)n(t[l])}var u="bsCustomFileInput",c="reset",f="change";return{init:function(t,n){void 0===t&&(t=e.CUSTOMFILE),void 0===n&&(n=e.FORM);for(var l,r,a=[].slice.call(document.querySelectorAll(t)),s=[].slice.call(document.querySelectorAll(n)),d=0,v=a.length;d<v;d++){var p=a[d];Object.defineProperty(p,u,{value:{defaultText:(l=void 0,l="",(r=p.parentNode.querySelector(e.CUSTOMFILELABEL))&&(l=r.textContent),l)},writable:!0}),i.call(p),p.addEventListener(f,i)}for(var m=0,h=s.length;m<h;m++)s[m].addEventListener(c,o),Object.defineProperty(s[m],u,{value:!0,writable:!0})},destroy:function(){for(var t=[].slice.call(document.querySelectorAll(e.FORM)).filter(function(e){return!!e.bsCustomFileInput}),l=[].slice.call(document.querySelectorAll(e.INPUT)).filter(function(e){return!!e.bsCustomFileInput}),r=0,a=l.length;r<a;r++){var s=l[r];n(s),s[u]=void 0,s.removeEventListener(f,i)}for(var d=0,v=t.length;d<v;d++)t[d].removeEventListener(c,o),t[d][u]=void 0}}});
